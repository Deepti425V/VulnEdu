<!-- Educational page explaining relationships between CVE, CWE, and CVSS frameworks -->
{% extends "base.html" %}

{% block content %}
<style>
/* ==================== VENN DIAGRAM LAYOUT SYSTEM ==================== */

/* Main container for the entire Venn diagram and legend */
.venn-container {
    display: flex;              /* Horizontal layout: diagram on left, legend on right */
    align-items: center;        /* Vertically center both components */
    justify-content: center;    /* Horizontally center the entire container */
    margin: 22px 0;            /* Vertical spacing above and below */
    gap: 40px;                 /* Space between diagram and legend */
}

/* Relative positioning container for the Venn diagram circles */
.venn-diagram {
    position: relative;         /* Establishes positioning context for absolute children */
    width: 450px;              /* Fixed width to ensure consistent circle placement */
    height: 350px;             /* Fixed height to accommodate all circles and labels */
    padding: 20px;             /* Internal padding to prevent edge clipping */
}

/* ==================== CIRCLE STYLING AND POSITIONING ==================== */

/* Base styling for all three framework circles */
.circle {
    position: absolute;         /* Absolute positioning for precise placement */
    border-radius: 50%;         /* Makes square divs into perfect circles */
    opacity: 0.85;              /* Semi-transparent to show overlapping blend effects */
    display: flex;              /* Flexbox for centering content within circles */
    align-items: center;        /* Vertically center circle content */
    justify-content: center;    /* Horizontally center circle content */
    font-weight: bold;          /* Bold text for better visibility */
    font-size: 12px;           /* Small font to fit within circles */
    text-align: center;         /* Center-align multi-line text */
    line-height: 1.2;          /* Tight line spacing for compact text */
    border: 3px solid;          /* Border color set individually per circle */
}

/* CVE Circle - Blue (Common Vulnerabilities and Exposures) */
.cve-circle {
    width: 180px;               /* Circle diameter */
    height: 180px;              /* Circle diameter (must match width for perfect circle) */
    background: rgba(99, 164, 255, 0.6);  /* Blue background with transparency */
    border-color: #63a4ff;      /* Solid blue border for definition */
    top: 30px;                  /* Distance from container top */
    left: 60px;                 /* Distance from container left */
    color: #63a4ff;             /* Blue text to match theme */
}

/* CWE Circle - Teal (Common Weakness Enumeration) */
.cwe-circle {
    width: 180px;               /* Same size as CVE circle for visual balance */
    height: 180px;
    background: rgba(56, 178, 172, 0.6);  /* Teal background with transparency */
    border-color: #38b2ac;      /* Solid teal border */
    top: 30px;                  /* Same top position as CVE (horizontal alignment) */
    left: 190px;                /* Right of CVE circle with calculated overlap */
    color: #38b2ac;             /* Teal text color */
}

/* CVSS Circle - Red (Common Vulnerability Scoring System) */
.cvss-circle {
    width: 180px;               /* Consistent sizing with other circles */
    height: 180px;
    background: rgba(245, 101, 101, 0.6);  /* Red background with transparency */
    border-color: #f56565;      /* Solid red border */
    top: 150px;                 /* Lower position to create triangular arrangement */
    left: 125px;                /* Centered between CVE and CWE horizontally */
    color: #f56565;             /* Red text color */
}

/* ==================== LABEL POSITIONING SYSTEM ==================== */

/* Base styling for all framework labels */
.label {
    position: absolute;         /* Absolute positioning for precise placement */
    font-weight: bold;          /* Bold text for emphasis */
    font-size: 14px;           /* Larger than circle text for hierarchy */
    z-index: 10;               /* Above circles but below intersection labels */
}

/* Individual label positions (placed in non-overlapping areas of circles) */
.cve-label {
    top: 70px;                  /* Positioned within CVE circle's unique area */
    left: 105px;
    color: #63a4ff;             /* Blue to match CVE circle */
}

.cwe-label {
    top: 70px;                  /* Same height as CVE label for alignment */
    left: 255px;                /* Positioned within CWE circle's unique area */
    color: #38b2ac;             /* Teal to match CWE circle */
}

.cvss-label {
    top: 250px;                 /* Lower position within CVSS circle's unique area */
    left: 165px;                /* Horizontally centered under intersection */
    color: #f56565;             /* Red to match CVSS circle */
}

/* ==================== EXAMPLE LABELS ==================== */

/* Styling for concrete examples (CVE IDs, CWE numbers, CVSS scores) */
.example {
    position: absolute;         /* Absolute positioning for precise placement */
    font-size: 10px;           /* Small font to fit in available space */
    background: rgba(0, 0, 0, 0.8);  /* Dark background for text contrast */
    padding: 3px 6px;          /* Padding for readability */
    border-radius: 4px;         /* Rounded corners for modern appearance */
    white-space: nowrap;        /* Prevent text wrapping */
    z-index: 5;                /* Above circles but below labels */
}

/* Example positions (placed near their respective framework areas) */
.cve-example {
    top: 95px;                  /* Below CVE label */
    left: 75px;                 /* Within CVE circle area */
    color: #e2e8f0;             /* Light text for contrast against dark background */
}

.cwe-example {
    top: 95px;                  /* Below CWE label, aligned with CVE example */
    left: 270px;                /* Within CWE circle area */
    color: #e2e8f0;
}

.cvss-example {
    top: 275px;                 /* Below CVSS label */
    left: 150px;                /* Within CVSS circle area */
    color: #e2e8f0;
}

/* ==================== INTERSECTION LABELS ==================== */

/* Styling for labels explaining overlapping areas */
.intersection-label {
    position: absolute;         /* Absolute positioning for intersection areas */
    font-size: 10px;           /* Small font to fit in limited space */
    background: rgba(255, 255, 255, 0.9);  /* White background for high contrast */
    color: #1a202c;             /* Dark text for readability on white */
    padding: 3px 6px;          /* Padding for text spacing */
    border-radius: 4px;         /* Rounded corners */
    font-weight: 600;           /* Semi-bold for emphasis */
    z-index: 15;               /* Highest z-index to appear above everything */
}

/* Positions for two-way intersections */
.cve-cwe {
    top: 115px;                 /* In the CVE+CWE overlap area */
    left: 185px;
}

.cve-cvss {
    top: 175px;                 /* In the CVE+CVSS overlap area */
    left: 115px;
}

.cwe-cvss {
    top: 175px;                 /* In the CWE+CVSS overlap area */
    left: 255px;
}

/* Center intersection where all three circles overlap */
.center-intersection {
    top: 165px;                 /* Center of all three circles */
    left: 170px;
    background: rgba(255, 215, 0, 0.9);  /* Gold background for special emphasis */
    color: #1a202c;             /* Dark text */
    font-size: 9px;            /* Even smaller font due to limited space */
}

/* ==================== LEGEND STYLING SYSTEM ==================== */

/* Main legend container */
.legend {
    color: #e3e8f0;             /* Light text for dark theme */
    background: linear-gradient(135deg, #232b45 0%, #1e2640 100%);  /* Gradient background */
    border-radius: 12px;        /* Rounded corners */
    box-shadow: 0 6px 24px rgba(0,0,0,0.3);  /* Drop shadow for depth */
    border: 1px solid rgba(99, 164, 255, 0.1);  /* Subtle border */
    padding: 18px 24px;         /* Internal spacing */
    margin: 0 0 18px 0;        /* Bottom margin */
    width: 350px;              /* Fixed width for consistent layout */
}

/* Legend title styling */
.legend-title {
    font-weight: bold;          /* Bold for hierarchy */
    font-size: 16px;           /* Larger than legend items */
    margin-bottom: 14px;        /* Space below title */
    color: #cdd7ff;            /* Slightly blue-tinted light color */
}

/* Individual legend item layout */
.legend-item {
    display: flex;              /* Horizontal layout for circle + text */
    align-items: center;        /* Vertically align circle and text */
    margin-bottom: 8px;         /* Space between legend items */
}

/* Small circles in legend matching diagram colors */
.legend-circle {
    width: 16px;                /* Small circle size */
    height: 16px;
    border-radius: 50%;         /* Perfect circle */
    margin-right: 12px;         /* Space between circle and text */
    border: 2px solid #333;     /* Dark border for definition */
    flex-shrink: 0;            /* Prevent circle from shrinking */
}

/* Legend circle colors matching main diagram */
.legend-cve {
    background: rgba(99, 164, 255, 0.6);  /* Blue background */
    border-color: #63a4ff;      /* Blue border */
}

.legend-cwe {
    background: rgba(56, 178, 172, 0.6);  /* Teal background */
    border-color: #38b2ac;      /* Teal border */
}

.legend-cvss {
    background: rgba(245, 101, 101, 0.6);  /* Red background */
    border-color: #f56565;      /* Red border */
}

/* Legend text styling */
.legend-text {
    font-size: 13px;           /* Readable size for explanatory text */
}

.legend-name {
    margin-bottom: 0;           /* Remove default paragraph margin */
}

/* Special styling for warning/important legend items */
.warning-item .legend-name {
    color: #e74c3c;            /* Red color for warnings/important notes */
}
</style>

<!-- ==================== PAGE CONTENT STRUCTURE ==================== -->

<!-- Main content container with responsive width and centering -->
<div style="max-width:1400px;margin:0 auto 32px auto;padding-top:18px;">
    
    <!-- Page title with brand blue color -->
    <h1 style="color:#63a4ff;">CVE vs CWE vs CVSS</h1>
    
    <!-- Introduction paragraph explaining the three frameworks -->
    <p style="color:#e2e8f0;font-size:1.07em;">
        Vulnerability analysis uses three frameworks: <b>CVE</b>, <b>CWE</b>, and <b>CVSS</b> each provides a unique way to understand risk and weaknesses.
    </p>

    <!-- Comparison table showing frameworks side-by-side -->
    <table style="color:#e3e8f0;background:linear-gradient(135deg, #232b45 0%, #1e2640 100%);border-radius:12px;width:75%;margin-bottom:18px; border-collapse:collapse;border: 1px solid rgba(99, 164, 255, 0.1);box-shadow: 0 6px 24px rgba(0,0,0,0.3);">
        
        <!-- Table header row with framework categories -->
        <tr style="background:#232b45;">
            <th style="text-align:center;padding:12px 8px;border-radius:12px 0 0 0;">Framework</th>
            <th style="text-align:center;padding:12px 8px;">Role in Security</th>
            <th style="text-align:center;padding:12px 8px;border-radius:0 12px 0 0;">Sample</th>
        </tr>
        
        <!-- CVE framework row -->
        <tr style="background:rgba(38, 49, 89, 0.4);">
            <td style="text-align:center;padding:10px 8px;"><strong style="color:#63a4ff;">CVE</strong></td>
            <td style="text-align:center;padding:10px 8px;">Specific vulnerability identifier</td>
            <td style="text-align:center;padding:10px 8px;">CVE-2021-34527</td>
        </tr>
        
        <!-- CWE framework row -->
        <tr style="background:rgba(38, 49, 89, 0.4);">
            <td style="text-align:center;padding:10px 8px;"><strong style="color:#38b2ac;">CWE</strong></td>
            <td style="text-align:center;padding:10px 8px;">Type/classification of weakness</td>
            <td style="text-align:center;padding:10px 8px;">CWE-79 (Cross-Site Scripting)</td>
        </tr>
        
        <!-- CVSS framework row -->
        <tr style="background:rgba(38, 49, 89, 0.4);">
            <td style="text-align:center;padding:10px 8px;border-radius:0 0 0 12px;">
                <strong style="color:#f56565;">CVSS</strong>
            </td>
            <td style="text-align:center;padding:10px 8px;">Numerical severity score</td>
            <td style="text-align:center;padding:10px 8px;border-radius:0 0 12px 0;">9.8 (Critical)</td>
        </tr>
    </table>

    <!-- Section explaining relationships between frameworks -->
    <h2 style="color:#cdd7ff;margin-top:32px;">How Are They Connected?</h2>
    <ul style="color:#e3e8f0;margin-left:17px;">
        <li><b>CVE</b> records the bug.</li>
        <li><b>CWE</b> classifies what kind of bug it is.</li>
        <li><b>CVSS</b> tells you how dangerous it is.</li>
    </ul>

    <!-- Venn diagram section header -->
    <h2 style="color:#cdd7ff;">Visual Relationship (Venn Diagram)</h2>
    
    <!-- Container for Venn diagram and legend (side-by-side layout) -->
    <div class="venn-container">
        
        <!-- Venn diagram component with all circles and labels -->
        <div class="venn-diagram">
            
            <!-- Three overlapping circles representing the frameworks -->
            <div class="circle cve-circle"></div>      <!-- Blue circle for CVE -->
            <div class="circle cwe-circle"></div>      <!-- Teal circle for CWE -->
            <div class="circle cvss-circle"></div>     <!-- Red circle for CVSS -->
            
            <!-- Framework name labels positioned in unique areas -->
            <div class="label cve-label">CVE</div>
            <div class="label cwe-label">CWE</div>
            <div class="label cvss-label">CVSS</div>
            
            <!-- Concrete examples of each framework -->
            <div class="example cve-example">CVE-2021-34527</div>
            <div class="example cwe-example">CWE-79</div>
            <div class="example cvss-example">9.8 Critical</div>
            
            <!-- Labels explaining what each intersection represents -->
            <div class="intersection-label cve-cwe">ID + Type</div>           <!-- CVE + CWE intersection -->
            <div class="intersection-label cve-cvss">ID + Score</div>         <!-- CVE + CVSS intersection -->
            <div class="intersection-label cwe-cvss">Type + Risk</div>        <!-- CWE + CVSS intersection -->
            <div class="intersection-label center-intersection">Complete Analysis</div>  <!-- All three intersection -->
        </div>

        <!-- Legend panel explaining how to interpret the diagram -->
        <div class="legend">
            <div class="legend-title">How to read this diagram?</div>
            
            <!-- Explanation of the diagram concept -->
            <div class="legend-item cve-item">
                <div class="legend-text">
                    <div class="legend-name">Each circle is a <strong style="color: #3498db;">FRAMEWORK</strong>.</div>
                </div>
            </div>

            <!-- CVE circle explanation -->
            <div class="legend-item cve-item">
                <div class="legend-circle legend-cve"></div>
                <div class="legend-text">
                    <div class="legend-name">The blue area <strong style="color: #63a4ff;">shows specific vulnerabilities</strong> of the CVE type!</div>
                </div>
            </div>

            <!-- CWE circle explanation -->
            <div class="legend-item cwe-item">
                <div class="legend-circle legend-cwe"></div>
                <div class="legend-text">
                    <div class="legend-name">The teal area <strong style="color: #38b2ac;">shows weakness categories</strong> of the CWE type!</div>
                </div>
            </div>

            <!-- CVSS circle explanation -->
            <div class="legend-item cvss-item">
                <div class="legend-circle legend-cvss"></div>
                <div class="legend-text">
                    <div class="legend-name">The red area <strong style="color: #f56565;">shows severity scores</strong> of the CVSS type!</div>
                </div>
            </div>

            <!-- Important note about overlapping areas -->
            <div class="legend-item warning-item">
                <div class="legend-text">
                    <div class="legend-name"><strong style="color: #e74c3c;">Overlapping areas highlight complete analysis.</strong></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Navigation footer - return to main dashboard -->
    <div style="text-align:center; margin:2.5em 0 1em 0;">
        <a href="{{ url_for('index') }}" style="color:#63a4ff; padding:0.8em 2em; border-radius:6px; font-weight:600; text-decoration:none;">
            ‚Üê Back to Dashboard
        </a>
    </div>
</div>

<!-- End of content block - control returns to base template -->
{% endblock %}